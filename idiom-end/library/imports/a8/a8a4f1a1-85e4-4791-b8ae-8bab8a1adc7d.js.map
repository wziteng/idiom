{"version":3,"sources":["..\\..\\..\\..\\..\\assets\\script\\game/assets\\script\\game\\Idiom.js"],"names":["global","require","CELL_STATE","DEFAULT","HIDE","UNCHOSE","UNFILL","WRONG","RIGHT","value","gameOver","chose","cc","Class","extends","Component","properties","item","Node","content","guan","onLoad","start","self","initBoard","JSONData","_registerKeyEvent","i","Hide","length","children","on","_onTouchKeyStarts","bind","index","event","hideIndex","target","label","getChildByName","getComponent","Label","key","string","NewHide","console","log","word","setWordByIndexs","setBgStateByIndex","setWordByIndex","splice","Button","node","pauseSystemEvents","j","push","items","active","_registerClickEvent","EventType","TOUCH_START","_onTouchStart","sta","macthGezi","data","jsons","idiom","direction","wordList","idiomList","split","hideword","hideList","HideList","wordData","space","hideData","opacity","hide","hideWord","setKeyWordByIndex","setHideWordByIndex","checkpoint","hideItem","hideLabel","state","itemBg","Sprite","color","Color","fromHEX","goHome","director","loadScene"],"mappings":"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","file":"Idiom.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\script\\game","sourcesContent":["let global=require('Global');\r\nconst CELL_STATE = {\r\n  DEFAULT:0,\r\n  HIDE:1,   //隐藏\r\n  UNCHOSE:2,  //被选中，红框\r\n  UNFILL:3,   //填了格子变黄变黄\r\n  WRONG:4,    //填错字变红\r\n  RIGHT:5,   //正确字变白，格子变绿\r\n};\r\nlet value = 0;\r\nlet gameOver = 0;\r\nlet chose =0\r\ncc.Class({\r\n    extends: cc.Component,\r\n    properties: {\r\n        item:cc.Node,\r\n        content:cc.Node,\r\n        guan:cc.Node,\r\n},\r\n\r\n    onLoad () {\r\n        \r\n    },\r\n\r\n    start () {\r\n        let self = this ;\r\n        self.initBoard(global.JSONData);\r\n\r\n    },\r\n\r\n//键盘的注册事件\r\n    _registerKeyEvent(){\r\n        for (let i = 0;i<this.Hide.length;i++){\r\n            let item = this.content.children[i];\r\n            item.on('touchstart',this._onTouchKeyStarts.bind(this,i),this);\r\n        }\r\n    },\r\n    _onTouchKeyStarts(index,event){\r\n        this.hideIndex = index;\r\n        let target = event.target;\r\n        let label = target.getChildByName('New Label').getComponent(cc.Label);\r\n        let key = label.string;\r\n        let NewHide=[];\r\n        for (let i = 0 ;i<this.Hide.length;i++){\r\n            if (this.Hide[i].hideIndex===chose||this.Hide[i].hideIndex===value){\r\n                console.log(key);\r\n                console.log(this.Hide[i].word);\r\n                if (key===this.Hide[i].word) {\r\n                    this.setWordByIndexs(255,this.Hide[i].hideIndex);//显示字\r\n                    if(chose){\r\n                        //点击跳转\r\n                    this.setBgStateByIndex(CELL_STATE.DEFAULT, chose);\r\n                    this.setWordByIndex(key,chose);//替换字\r\n                    this.Hide.splice(this.hideIndex,1,{word:null,hideIndex:null});\r\n                    let item = this.item.children[chose].getComponent(cc.Button);\r\n                    item.node.pauseSystemEvents(true);\r\n                   //点击之后自动跳转\r\n                   for(let j = 0;j<this.Hide.length;j++){\r\n                       console.log(this.Hide[j].word);\r\n                       if(this.Hide[j].word!==null){\r\n                        NewHide.push(this.Hide[j]);\r\n                       }\r\n                   }\r\n                    for(let i = 0;i<NewHide.length;i++){\r\n                        if(i+1===NewHide.length){\r\n                            chose = NewHide[i].hideIndex;\r\n                        }else{\r\n                            chose = NewHide[i+1].hideIndex;\r\n                        } \r\n                    }\r\n                    this.setBgStateByIndex(CELL_STATE.UNCHOSE, chose);\r\n                    }else if(value&&value!==0){\r\n                        //自动跳转\r\n                        this.setWordByIndex(key,value);//替换字\r\n                        this.setBgStateByIndex(CELL_STATE.DEFAULT, value);\r\n                        let item = this.item.children[value].getComponent(cc.Button);\r\n                        item.node.pauseSystemEvents(true);\r\n                        if(i+1===this.Hide.length){\r\n                            value = this.Hide[i].hideIndex;\r\n                        }else{\r\n                            value = this.Hide[i+1].hideIndex;\r\n                        } \r\n                        this.setBgStateByIndex(CELL_STATE.UNCHOSE, value);\r\n                    }\r\n                    this.Hide.splice(this.hideIndex,1,{word:null,hideIndex:null});\r\n                    gameOver =gameOver+1;\r\n                    if(gameOver===this.Hide.length){\r\n                        this.gameOver();\r\n                    }\r\n                    let items = this.content.children[index];//正确的字消失\r\n                    items.active = false;\r\n                    return;\r\n                }else {\r\n                    if(chose){\r\n                        this.setWordByIndex(key,chose);\r\n                        this.setWordByIndexs(255,this.Hide[i].hideIndex);\r\n                        this.setBgStateByIndex(CELL_STATE.WRONG, chose);\r\n                    }else{\r\n                        this.setWordByIndex(key,value);\r\n                        this.setWordByIndexs(255,this.Hide[i].hideIndex);\r\n                        this.setBgStateByIndex(CELL_STATE.WRONG, value);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    },\r\n\r\n    //给格子注册监听事件\r\n    _registerClickEvent(){\r\n        //给需要填空的格子添加监听事件\r\n        for (let i = 0;i<this.Hide.length;i++){\r\n            let index = this.Hide[i].hideIndex;\r\n            let item = this.item.children[index].getComponent(cc.Button);  //button\r\n            item.node.on(cc.Node.EventType.TOUCH_START,this._onTouchStart.bind(this,index),this);\r\n        }\r\n    },\r\n    _onTouchStart(index,event){\r\n            if (chose || chose === 0) {\r\n                this.setBgStateByIndex(CELL_STATE.DEFAULT, chose);\r\n                this.sta = CELL_STATE.DEFAULT;\r\n            }\r\n            this.setBgStateByIndex(CELL_STATE.DEFAULT, value);\r\n            chose = index;\r\n             this.setBgStateByIndex(CELL_STATE.UNCHOSE, chose);\r\n             value = 0;\r\n            console.log(index);\r\n            if ( this.sta===CELL_STATE.RIGHT){\r\n                this.setWordByIndexs(255,index);\r\n            } else {\r\n                this.setWordByIndexs(0,index);  //撤销填上去的字\r\n            }\r\n    },\r\n    //选者格子自动跳转\r\n    macthGezi(index){\r\n        this.value =index;\r\n        this.setBgStateByIndex(CELL_STATE.UNCHOSE, index);\r\n    },\r\n    //初始化棋盘，显示所有成语\r\n    initBoard(data){\r\n        console.log(data);\r\n        let jsons = data;\r\n        for (let i = 0;i<jsons.length;i++){\r\n            let idiom = jsons[i].idiom;\r\n            let direction = jsons[i].direction;\r\n            let index = jsons[i].index;\r\n            let wordList = [];\r\n            let idiomList = idiom.split('');\r\n            let hideword = jsons[i].hideword;\r\n            let hideList = [];\r\n            let HideList = hideword.split('');\r\n            for (let j = 0;j<idiomList.length;j++){\r\n                //成语\r\n                let wordData = {};\r\n                let space = (direction === 1 ? 1 : 9) ;\r\n                wordData.index = index + space*j;\r\n                wordData.word = idiomList[j];\r\n                let hideData = {};\r\n                hideData.word = HideList[j];\r\n                wordList.push(wordData);\r\n                //缺少的字和成语中的字匹配就把这个字和坐标存储在hide list中\r\n                if (wordList[j].word===HideList[j]){\r\n                    hideData.hideIndex = wordList[j].index;\r\n                    hideList.push(hideData);\r\n                }\r\n            }\r\n            jsons[i].wordList = wordList;\r\n            jsons[i].hideList = hideList;\r\n        }\r\n\r\n        //隐藏格子上的所有文字\r\n        for ( let i = 0;i<this.item.children.length;i++){\r\n            this.item.children[i].opacity = 0\r\n        }\r\n        //显示文字\r\n        for (let i = 0; i < jsons.length;i++){\r\n            for (let j =0;j<jsons[i].wordList.length;j++) {\r\n                let wordData = jsons[i].wordList[j];\r\n                this.item.children[wordData.index].opacity = 255;\r\n                this.setWordByIndex(wordData.word, wordData.index);//显示的文字\r\n                this.setBgStateByIndex(CELL_STATE.DEFAULT, wordData.index);\r\n            }\r\n        }\r\n        //隐藏键盘上的所有文字\r\n        for ( let i = 0;i<this.content.children.length;i++){\r\n            this.content.children[i].opacity = 0;\r\n        }\r\n        //隐藏的文字存在一个数组中\r\n        let hide=[];\r\n        for (let i = 0; i < jsons.length;i++){\r\n            for (let j =0;j<jsons[i].hideList.length;j++) {\r\n                let hideWord = jsons[i].hideList[j];\r\n                hide.push(hideWord);\r\n\r\n            }\r\n        }\r\n        //在键盘上显示隐藏的文字\r\n        for (let i =0;i<hide.length;i++) {\r\n            this.content.children[i].opacity = 255;\r\n            this.setKeyWordByIndex(hide[i].word, i);  //显示被隐藏的字到键盘上\r\n            this.setHideWordByIndex(hide[i].word, hide[i].hideIndex);  //隐藏格子上的字\r\n        }\r\n        this.Hide = hide;\r\n        this._registerClickEvent();\r\n        this._registerKeyEvent();\r\n        value = this.Hide[0].hideIndex;\r\n        this.macthGezi(value);\r\n\r\n        //显示关卡\r\n        let checkpoint = this.guan.getComponent(cc.Label);\r\n        checkpoint.string = \"第\"+ global.checkpoint+\"关\";\r\n\r\n    },\r\n    //初始化格子上和键盘上的文字\r\n    setWordByIndex(string,index){\r\n        let item = this.item.children[index].children[0];\r\n        let label = item.getChildByName('Label').getComponent(cc.Label);\r\n        label.string = string;\r\n    },\r\n    setKeyWordByIndex(string,index){\r\n        let items = this.content.children[index];\r\n        let item = items.getChildByName('New Label').getComponent(cc.Label);\r\n        item.string = string;\r\n    },\r\n    //隐藏需要填的文字\r\n    setHideWordByIndex(string,hideIndex){\r\n        let hideItem = this.item.children[hideIndex].children[0];  //需要填的词index值\r\n        let hideLabel = hideItem.getChildByName('Label').getComponent(cc.Label).node;\r\n        hideLabel.opacity = 0;\r\n        hideLabel.string = string;\r\n    },\r\n    //撤销填的字的方法\r\n    setWordByIndexs(opacity,hideIndex){\r\n        let hideItem = this.item.children[hideIndex].children[0];  //需要填的词index值\r\n        let hideLabel = hideItem.getChildByName('Label').getComponent(cc.Label).node;\r\n        hideLabel.opacity = opacity;\r\n\r\n    },\r\n    //设置背景的状态\r\n    setBgStateByIndex(state,index){\r\n        let item = this.item.children[index].children[0];\r\n        let itemBg = item.getChildByName('New Sprite').getComponent(cc.Sprite).node;  //需要填的词index值\r\n        let color;\r\n        if(state === CELL_STATE.DEFAULT){\r\n            color = new cc.Color().fromHEX(\"#CF9AF3\");\r\n        } else if (state === CELL_STATE.UNCHOSE){\r\n            color =new cc.Color().fromHEX('#A095F6');  //选中\r\n        } else if (state === CELL_STATE.WRONG){\r\n            color =new cc.Color().fromHEX('#F84C53');   //错误\r\n        }else if (state === CELL_STATE.RIGHT){\r\n            color =new cc.Color().fromHEX('#44ECD8');   //正确\r\n        }\r\n        itemBg.color = color;\r\n    },\r\n    goHome(){\r\n        global.JSONData.splice(0,global.JSONData.length);\r\n        cc.director.loadScene(\"main\"); //切换场景\r\n    },\r\n    // update (dt) {},\r\n    gameOver(){\r\n        cc.director.loadScene(\"gameOver\"); //切换场景\r\n         gameOver = 0;\r\n\r\n\r\n    }\r\n});\r\n"]}