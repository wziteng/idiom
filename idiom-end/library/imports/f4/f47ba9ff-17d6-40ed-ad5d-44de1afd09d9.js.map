{"version":3,"sources":["..\\..\\..\\..\\..\\assets\\script\\duanan/assets\\script\\duanan\\slider.js"],"names":["global","require","slider","cc","Class","extends","Component","properties","progress","default","type","Sprite","bt","Node","_width","countTime","Label","broadcostTimes","tip_All","GameOverPrefab","Prefab","onLoad","tip","find","getComponent","string","times","self","on","initGameOverPrefab","schedule","doCountTime","node","dispatchEvent","Event","EventCustom","active","item","instantiate","parent","setPosition","addChild","toString","cuntDownTime","number","console","log","unschedule","start","update","dt","module","exports"],"mappings":";;;;;;AAAA,IAAIA,SAAOC,QAAQ,QAAR,CAAX;AACA,IAAMC,SAAOC,GAAGC,KAAH,CAAS;AAClBC,aAASF,GAAGG,SADM;;AAGlBC,gBAAY;AACRC,kBAAS;AACLC,qBAAQ,IADH;AAELC,kBAAKP,GAAGQ;AAFH,SADD;;AAMRC,YAAG;AACDH,qBAAS,IADR;AAEDC,kBAAMP,GAAGU;AAFR,SANK;;AAWRC,gBAAO,CAXC;;AAaRC,mBAAU;AACNL,kBAAKP,GAAGa,KADF;AAENP,qBAAQ;AAFF,SAbF;AAiBRQ,wBAAe,GAjBP;AAkBRC,iBAAQ;AACJR,kBAAKP,GAAGU,IADJ;AAEJJ,qBAAQ;AAFJ,SAlBA;AAsBRU,wBAAehB,GAAGiB;;AAtBV,KAHM;;AA8BlB;;AAEAC,UAhCkB,oBAgCR;AACN,aAAKC,GAAL,GAASnB,GAAGoB,IAAH,CAAQ,eAAR,EAAyBC,YAAzB,CAAsCrB,GAAGa,KAAzC,CAAT;AACA,aAAKM,GAAL,CAASG,MAAT,GAAgBzB,OAAO0B,KAAvB;AACA,YAAIC,OAAK,IAAT;;AAEAA,aAAKf,EAAL,CAAQgB,EAAR,CAAW,OAAX,EAAmB,YAAY;AAC3B,gBAAI5B,OAAO0B,KAAP,KAAe,CAAnB,EAAqB;AACjBC,qBAAKE,kBAAL;AACH,aAFD,MAEM;AACF,qBAAKC,QAAL,CAAc,KAAKC,WAAnB,EAA+B,CAA/B,EADE,CACgC;AAClC,qBAAKC,IAAL,CAAUC,aAAV,CAAwB,IAAI9B,GAAG+B,KAAH,CAASC,WAAb,CAAyB,YAAzB,EAAsC,IAAtC,CAAxB;AACAR,qBAAKT,OAAL,CAAakB,MAAb,GAAoB,KAApB;AACH;AAEJ,SATD,EASE,IATF;AAYH,KAjDiB;AAmDlBP,sBAnDkB,gCAmDE;AAChB,YAAIQ,OAAKlC,GAAGmC,WAAH,CAAe,KAAKnB,cAApB,CAAT;AACAkB,aAAKE,MAAL,GAAYpC,GAAGoB,IAAH,CAAQ,QAAR,CAAZ;AACAc,aAAKG,WAAL,CAAiB,CAAjB,EAAmB,CAAnB;AACA,aAAKR,IAAL,CAAUS,QAAV,CAAmBJ,IAAnB;AACH,KAxDiB;AA2DlBN,eA3DkB,yBA2DL;AACT,YAAI,KAAKd,cAAL,IAAuB,GAA3B,EAAgC;AAC5B,iBAAKe,IAAL,CAAUC,aAAV,CAAwB,IAAI9B,GAAG+B,KAAH,CAASC,WAAb,CAAyB,WAAzB,EAAqC,IAArC,CAAxB;AACA;AACH;AACD,aAAKlB,cAAL,IAAuB,CAAvB;AACA,aAAKF,SAAL,CAAeU,MAAf,GAAwB,KAAKR,cAAL,CAAoByB,QAApB,KAA+B,IAAvD;AACA,aAAKC,YAAL,CAAkB,KAAK1B,cAAvB;AACH,KAnEiB;AAqElB0B,gBArEkB,wBAqELC,MArEK,EAqEE;AAClB,YAAIA,UAAQ,CAAZ,EAAc;AACV,gBAAG,KAAKtB,GAAL,CAASG,MAAT,KAAkB,GAArB,EAAyB;AACrBoB,wBAAQC,GAAR,CAAY,OAAZ;AACA,qBAAKC,UAAL,CAAgB,KAAKhB,WAArB,EAFqB,CAEa;AAClC;AACH;AACD,iBAAKT,GAAL,CAASG,MAAT,IAAiB,CAAjB;AACH;AACF,KA9EiB;AAiFlBuB,SAjFkB,mBAiFT,CAER,CAnFiB;AAqFlBC,UArFkB,kBAqFVC,EArFU,EAqFN,CAEX;AAvFiB,CAAT,CAAb;;AA0FAC,OAAOC,OAAP,GAAelD,MAAf","file":"slider.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\script\\duanan","sourcesContent":["let global=require('Global');\r\nconst slider=cc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        progress:{\r\n            default:null,\r\n            type:cc.Sprite\r\n        },\r\n\r\n        bt:{\r\n          default: null,\r\n          type: cc.Node,\r\n        },\r\n\r\n        _width:0,\r\n\r\n        countTime:{\r\n            type:cc.Label,\r\n            default:null,\r\n        },\r\n        broadcostTimes:120,\r\n        tip_All:{\r\n            type:cc.Node,\r\n            default:null\r\n        },\r\n        GameOverPrefab:cc.Prefab,\r\n\r\n\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    onLoad () {\r\n        this.tip=cc.find('Canvas/tip/t2').getComponent(cc.Label);\r\n        this.tip.string=global.times;\r\n        let self=this;\r\n\r\n        self.bt.on('click',function () {\r\n            if (global.times===0){\r\n                self.initGameOverPrefab();\r\n            }else {\r\n                this.schedule(this.doCountTime,1);//每一秒中执行一次doCountTime()\r\n                this.node.dispatchEvent(new cc.Event.EventCustom('start_game',true));\r\n                self.tip_All.active=false;\r\n            }\r\n\r\n        },this);\r\n\r\n\r\n    },\r\n\r\n    initGameOverPrefab(){\r\n        let item=cc.instantiate(this.GameOverPrefab);\r\n        item.parent=cc.find('Canvas');\r\n        item.setPosition(0,0);\r\n        this.node.addChild(item);\r\n    },\r\n\r\n\r\n    doCountTime(){\r\n        if (this.broadcostTimes <= '0') {\r\n            this.node.dispatchEvent(new cc.Event.EventCustom('game_over',true));\r\n            return;\r\n        }\r\n        this.broadcostTimes -= 1;\r\n        this.countTime.string = this.broadcostTimes.toString()+\" 秒\";\r\n        this.cuntDownTime(this.broadcostTimes);\r\n    },\r\n\r\n    cuntDownTime(number){\r\n      if (number<=0){\r\n          if(this.tip.string==='0'){\r\n              console.log('明天再来！');\r\n              this.unschedule(this.doCountTime);//取消定时器\r\n              return;\r\n          }\r\n          this.tip.string-=1;\r\n      }\r\n    },\r\n\r\n\r\n    start () {\r\n\r\n    },\r\n\r\n    update (dt) {\r\n\r\n    },\r\n});\r\n\r\nmodule.exports=slider;\r\n\r\n"]}